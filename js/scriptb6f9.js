"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}function _createClass(e,t,n){return t&&_defineProperties(e.prototype,t),n&&_defineProperties(e,n),e}var Menu=function(){function t(e){_classCallCheck(this,t),this.root=e,this.animating=!1,this.prevWindowWidth=0,this._cacheNodes(),this._bindEvents(),this._ready()}return _createClass(t,[{key:"_cacheNodes",value:function(){this.nodes={mainHeader:$(".mainHeader"),menu__open:$(".js-menu-open"),menuTrigger:$(".mainHeader__menu"),popup__close:$(".popup__close"),mainHeader__mobile:$(".mainHeader__mobile")}}},{key:"_bindEvents",value:function(){var t=this;this.nodes.menu__open.on("click",function(){t.nodes.mainHeader__mobile.stop().animate({scrollTop:0},50,"swing"),t.setMobileMenuHeight(),550<$(window).width()?$.fancybox.open({src:"#menu",type:"inline",opts:{touch:!1}}):t.animating||(t.animating=!0,t.nodes.menuTrigger.toggleClass("active"),t.nodes.mainHeader__mobile.hasClass("active")?(t.nodes.mainHeader__mobile.removeClass("slideInDown"),t.nodes.mainHeader__mobile.addClass("slideOutUp"),setTimeout(function(){$("body").removeClass("fancybox-active compensate-for-scrollbar"),$("html").removeClass("fancybox-active compensate-for-scrollbar"),t.animating=!1,t.nodes.mainHeader__mobile.removeClass("slideOutUp active")},450)):(t.nodes.mainHeader__mobile.addClass("slideInDown active"),setTimeout(function(){$("body").addClass("fancybox-active compensate-for-scrollbar"),$("html").addClass("fancybox-active compensate-for-scrollbar"),t.animating=!1},450)))}),this.nodes.popup__close.on("click",function(e){$(e.currentTarget).parents(".fancybox-stage").find(".fancybox-close-small").click()}),$(window).resize(function(){t.setMobileMenuHeight();var e=$(window).width();550<e?(t.nodes.menuTrigger.removeClass("active"),t.nodes.mainHeader__mobile.removeClass("active"),$("body").removeClass("fancybox-active compensate-for-scrollbar"),$("html").removeClass("fancybox-active compensate-for-scrollbar")):t.prevWindowWidth!=e&&$.fancybox.close(),t.prevWindowWidth=e})}},{key:"_ready",value:function(){this.prevWindowWidth=$(window).scrollTop(),this.setMobileMenuHeight()}},{key:"setMobileMenuHeight",value:function(){}}]),t}(),Stat=function(){function t(e){_classCallCheck(this,t),this.root=e,this._cacheNodes(),this._bindEvents(),this._ready()}return _createClass(t,[{key:"_cacheNodes",value:function(){this.nodes={stat__digit:$(".stat__digit")}}},{key:"_bindEvents",value:function(){var n=this;this.nodes.stat__digit.on("click",function(e){var t=$(e.currentTarget);t.hasClass("active")?n.nodes.stat__digit.removeClass("active"):(n.nodes.stat__digit.removeClass("active"),t.addClass("active"))}),$(window).click(function(e){$(e.target).parents(".stat__digit").get(0)||n.nodes.stat__digit.removeClass("active")})}},{key:"_ready",value:function(){}}]),t}(),Sercl=function(){function t(e){_classCallCheck(this,t),this.root=e,this._cacheNodes(),this._bindEvents(),this._ready()}return _createClass(t,[{key:"_cacheNodes",value:function(){this.nodes={sercl:$(".sercl")}}},{key:"_bindEvents",value:function(){var t=this;$(window).resize(function(e){t.setOffset()})}},{key:"_ready",value:function(){this.setOffset()}},{key:"setOffset",value:function(){var e,t=$(window).width();t<1680?(e=(1680-t)/2,this.nodes.sercl.css({transform:"translate(-".concat(e,"px, 0)")})):this.nodes.sercl.css({transform:"translate(0, 0)"})}}]),t}(),Scheme=function(){function t(e){_classCallCheck(this,t),this.root=e,this._cacheNodes(),this._bindEvents(),this._ready()}return _createClass(t,[{key:"_cacheNodes",value:function(){this.nodes={scheme__cont:$(".scheme__cont")}}},{key:"_bindEvents",value:function(){var t=this;$(window).resize(function(e){t.setOffset()})}},{key:"_ready",value:function(){this.setOffset()}},{key:"setOffset",value:function(){var e,t=$(window).width();t<1680&&(e=(1680-t)/2,this.nodes.scheme__cont.css({transform:"translate(-".concat(e,"px, 0)")}))}}]),t}(),Application=function(){function e(){_classCallCheck(this,e),this._mainScripts(),this._initClasses()}return _createClass(e,[{key:"_mainScripts",value:function(){$(".topBlock__slider").owlCarousel({items:1,nav:!0,dots:!0,loop:!1}),$(".decision__slider").owlCarousel({items:1,nav:!0,navText:!1,dots:!0,loop:!0}),$(".cases__slider").owlCarousel({items:1,nav:!0,dots:!0,loop:!0});var e=$(".scheme__slider");e.owlCarousel({items:1,nav:!0,dots:!0,loop:!1}),e.on("changed.owl.carousel",function(e){$(window).width()<=550&&$("html, body").stop().animate({scrollTop:$("#scheme").offset().top-80},500,"swing")}),$(".js-go-to").on("click",function(e){var t=$(e.currentTarget).attr("href"),n=$(".mainHeader__mobile");$("html, body").stop().animate({scrollTop:$(""+t).offset().top-80},500,"swing"),n.removeClass("slideInDown"),n.addClass("slideOutUp"),setTimeout(function(){$("body").removeClass("fancybox-active compensate-for-scrollbar"),$("html").removeClass("fancybox-active compensate-for-scrollbar"),n.removeClass("slideOutUp active")},450),$.fancybox.close()}),$(".mainHeader .mainHeader__logo").on("click",function(e){$("html, body").stop().animate({scrollTop:0},500,"swing")}),$("body").on("beforeSubmit",".registerForm",function(e){var t=$(e.currentTarget),n=new FormData(t.get(0)),s=new XMLHttpRequest;return s.open("POST",t.attr("action")),s.send(n),!(s.onreadystatechange=function(){4===s.readyState&&(200===s.status?"success"===s.responseText&&(void 0!==yaCounter53659135&&yaCounter53659135.reachGoal("registration_success_form"),ga("send","event","registration","registration_success_form"),fbq("track","Lead"),$.fancybox.close(),$.fancybox.open({src:"#registerSuccess",type:"inline"}),setTimeout(function(){$.fancybox.close()},5e3)):console.log("error status"))})}),$("body").on("beforeSubmit",".restoreForm",function(e){var t=$(e.currentTarget),n=new FormData(t.get(0)),s=new XMLHttpRequest;return s.open("POST",t.attr("action")),s.send(n),!(s.onreadystatechange=function(){4==s.readyState&&(200==s.status?"success"==s.responseText&&($.fancybox.close(),$.fancybox.open({src:"#restoreSuccess",type:"inline"}),setTimeout(function(){$.fancybox.close()},5e3)):console.log("error status"))})}),$("body").on("beforeSubmit",".callbackForm",function(e){var t=$(e.currentTarget),n=new FormData(t.get(0)),s=new XMLHttpRequest;return s.open("POST",t.attr("action")),s.send(n),!(s.onreadystatechange=function(){4==s.readyState&&(200==s.status?"success"==s.responseText&&(void 0!==yaCounter53659135&&yaCounter53659135.reachGoal("call_back_success_form"),ga("send","event","call_back","call_back_success_form"),fbq("track","Lead"),$.fancybox.close(),$.fancybox.open({src:"#callbackSuccess",type:"inline"}),setTimeout(function(){$.fancybox.close()},5e3)):console.log("error status"))})}),$("[data-fancybox]").fancybox({closeExisting:!0,touch:!1}),$("#reg-types").selectmenu({appendTo:"#reg-types-wrapper"}),$('[data-src="#callback"]').on("click",function(){void 0!==yaCounter53659135&&yaCounter53659135.reachGoal("call_back_button_click"),ga("send","event","call_back","call_back_button_click")}),$('[data-src="#register"]').on("click",function(){void 0!==yaCounter53659135&&yaCounter53659135.reachGoal("registration_button_click"),ga("send","event","registration","registration_button_click")}),$(window).on("load",function(){setTimeout(function(){$(".js-lazyload-b").each(function(e,t){var n=$(t).attr("data-bg");t.style.backgroundImage="url(".concat(n,")"),$(t).removeAttr("data-bg")}),$("img.js-lazyload").each(function(e,t){t.src=$(t).attr("data-src"),$(t).removeAttr("data-src")})},250)})}},{key:"_initClasses",value:function(){new Menu,new Stat,new Sercl,new Scheme}}]),e}();function afterInitD(e){var t=$(".mainHeader").data("hash");t&&$.post(location.pathname,"vid="+e.visitorId+"&hash="+t),$("#registerform-vid").val(e.visitorId),setTimeout(function(){$.post("/get-master-id","vid="+e.visitorId,function(e){var t;475==e&&((t=document.createElement("script")).src="/js/metrics-475.js",t.async=!1,t.type="text/javascript",document.head.appendChild(t))})},500)}new Application;